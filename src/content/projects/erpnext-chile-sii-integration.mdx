---
title: "IntegraciÃ³n de ERPNext con el SII de Chile"
description: "AutomatizaciÃ³n del ingreso de facturas electrÃ³nicas desde XML del SII a ERPNext, conectando correo, Google Drive y el ERP para eliminar tareas repetitivas y errores humanos."
image: "/assets/images/projects/erpnext-chile-sii-integration/portada.webp"
tags:
  [
    "ERPNext",
    "SII",
    "facturaciÃ³n electrÃ³nica",
    "Chile",
    "Google Drive",
  ]
publishDate: "2025-08-01"
github: ""
demo: ""
---

Este proyecto fue desarrollado para automatizar completamente el ingreso de **facturas electrÃ³nicas (DTE)** desde los archivos XML del SII de Chile hacia el ERP **ERPNext**, reduciendo al mÃ­nimo el trabajo manual en el Ã¡rea contable.

---

import Mermaid from "../../components/Mermaid.jsx";

## ğŸ§© Â¿QuÃ© problema resuelve?

- Las facturas llegan como archivos XML al correo (desde el proveedor o el propio SII)
- El proceso de descarga, clasificaciÃ³n y carga en el ERP es lento, repetitivo y propenso a errores
- Muchas facturas deben enlazarse a Ã³rdenes de compra, centros de costo, bodegas o proyectos

---

## âš™ï¸ Â¿QuÃ© hace esta integraciÃ³n?

<Mermaid
  client:only="react"
  code={`flowchart TD
  A[Consulta periÃ³dica SII\npor documentos recibidos] --> B[CreaciÃ³n inicial\nPreInvoices en ERPNext]
  C[Consulta periÃ³dica\ncasilla email XML] --> D[Guardado XML en\nGoogle Drive por empresa/mes]
  E[Consulta periÃ³dica\nGoogle Drive XML] --> F[Parsear XML\ny obtener detalle]
  F --> G[Buscar PreInvoice\ny agregar detalle XML]
  G --> H[Adjuntar XML a PreInvoice]
  H --> I{Â¿Coincide con reglas?}
  I -- SÃ­ --> J[CreaciÃ³n automÃ¡tica\nPurchase Invoice - PINV]
  I -- No --> K[PreInvoice pendiente\nrevisiÃ³n manual]
  B --> G
  D --> E
`}
/>

- Lee correos con XML adjuntos en bandejas compartidas
- Detecta automÃ¡ticamente a quÃ© empresa y mes corresponde el documento
- Sube el XML a Google Drive en una ruta organizada por empresa/mes
- Extrae los datos del XML y crea una **PreInvoice** en ERPNext
- Aplica reglas definidas por empresa para convertir automÃ¡ticamente la PreInvoice en una **Purchase Invoice**
- Identifica duplicados y maneja referencias a Ã³rdenes de compra
- Adjunta el XML original al documento contable creado

---

## ğŸ§  TecnologÃ­as usadas

- **ERPNext** (Custom App con DocTypes, hooks, scripts Python)
- **Google Drive API** y **Gmail API**
- **Logs centralizados en Google Sheets**

> En el futuro se espera incorporar componentes de IA como FAISS y LLMs para sugerir Ã­tems contables en base a descripciones. Esto se encuentra en evaluaciÃ³n para una versiÃ³n posterior.

---

## ğŸ“Œ Resultados

- Procesamiento automÃ¡tico de **cientos de facturas mensuales**
- Cero intervenciÃ³n humana en el 90% de los casos
- Trazabilidad completa: desde el XML recibido hasta el asiento contable en el ERP

---

## ğŸ’¡ CÃ³digo fuente

Este proyecto estÃ¡ disponible pÃºblicamente en GitHub:

ğŸ‘‰ [Repositorio en GitHub: tonicanada/erpnext_chile_factura](https://github.com/tonicanada/erpnext_chile_factura)

Incluye documentaciÃ³n tÃ©cnica, ejemplos de configuraciÃ³n y todo el cÃ³digo necesario para desplegar la integraciÃ³n en un entorno ERPNext.

ğŸ›¡ï¸ **Licencia:**  
Este software estÃ¡ licenciado bajo [Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)](https://creativecommons.org/licenses/by-nc-nd/4.0/).

Esto significa que puedes **ver, compartir y clonar** este repositorio, pero **no puedes usarlo con fines comerciales** ni **crear versiones modificadas** sin autorizaciÃ³n expresa.

Â© 2025 Antonio CaÃ±ada Momblant

Â¿Necesitas ayuda para adaptarlo a tu empresa? Â¿Quieres colaborar en su evoluciÃ³n?  
ğŸ’¬ **ContÃ¡ctame** y estarÃ© encantado de conversar.
